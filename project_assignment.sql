CREATE DATABASE PROJECT;

USE PROJECT;

CREATE TABLE REGISTER(
	-- ID INT PRIMARY KEY, 
	NAME VARCHAR(20),
    NUMBER INT,
    EMAIL VARCHAR(30),
    PASSWORD VARCHAR(20)
);

DROP TABLE REGISTER;

CREATE TABLE LOGIN(
    EMAIL VARCHAR(20),
    PASSWORD VARCHAR(20)
);
  
DROP TABLE LOGIN;
    
SELECT * FROM REGISTER;

CREATE TABLE TrainDetails (
    TrainID INT PRIMARY KEY,
    TrainName VARCHAR(255),
    SourceStation VARCHAR(255),
    DestinationStation VARCHAR(255),
    DepartureDate DATE,
    SeatsAvailable INT,
    Price DECIMAL(8, 2)
);

INSERT INTO TrainDetails (TrainID, TrainName, SourceStation, DestinationStation, DepartureDate, SeatsAvailable, Price)
VALUES
    (1, 'Chennai Express', 'Chennai', 'Delhi', '2023-12-01', 150, 50.00),
    (2, 'Delhi Superfast', 'Delhi', 'Kolkata', '2023-12-02', 120, 75.50),
    (3, 'Kolkata Local', 'Kolkata', 'Mumbai', '2023-12-03', 100, 30.00),
    (4, 'Mumbai Express', 'Mumbai', 'Chennai', '2023-12-04', 200, 45.75),
    (5, 'Hyderabad Superfast', 'Hyderabad', 'Bangalore', '2023-12-05', 180, 60.25),
    (6, 'Ahmedabad Local', 'Ahmedabad', 'Jaipur', '2023-12-06', 90, 22.50),
    (7, 'Pune Express', 'Pune', 'Hyderabad', '2023-12-07', 160, 55.00),
    (8, 'Jaipur Superfast', 'Jaipur', 'Chennai', '2023-12-08', 130, 70.75),
    (9, 'Bangalore Local', 'Bangalore', 'Delhi', '2023-12-09', 110, 35.50),
    (10, 'Howrah Express', 'Howrah', 'Mumbai', '2023-12-10', 170, 40.25);


CREATE TABLE BOOKTRAINS(
	ID INT PRIMARY KEY,
    TRAINNAME VARCHAR(255) UNIQUE,
    SOURCESTATION VARCHAR(255),
    DESTINATIONSTATION VARCHAR(255),
    STARTTIME INT,
    ENDTIME INT,
    DURATION INT
    );
    
CREATE TABLE BOOKTRAINS1(
	ID INT PRIMARY KEY,
    TRAINNAME VARCHAR(255) UNIQUE,
    SOURCESTATION VARCHAR(255),
    DESTINATIONSTATION VARCHAR(255),
    STARTTIME INT,
    ENDTIME INT,
    DURATION INT
    );
    
DROP TABLE BOOKTRAINS;

CREATE TABLE SEATS1(
	TRAINNAME VARCHAR(255),
    A1PRICE INT,
    A2PRICE INT,
    A3PRICE INT,
    SLPRICE INT,
    A1AVAL INT,
    A2AVAL INT,
    A3AVAL INT,
    SLAVAL INT,
	FOREIGN KEY (TRAINNAME) REFERENCES BOOKTRAINS1(TRAINNAME)
);

CREATE TABLE SEATS(
	TRAINNAME VARCHAR(255),
    A1PRICE INT,
    A2PRICE INT,
    A3PRICE INT,
    SLPRICE INT,
    A1AVAL INT,
    A2AVAL INT,
    A3AVAL INT,
    SLAVAL INT,
	FOREIGN KEY (TRAINNAME) REFERENCES BOOKTRAINS(TRAINNAME)
);

DROP TABLE SEATS;
    

INSERT INTO BOOKTRAINS1 (ID, TRAINNAME, SOURCESTATION, DESTINATIONSTATION, STARTTIME, ENDTIME, DURATION)
VALUES 
  (1371, 'Chennai Express', 'Chennai', 'Delhi', 900, 1200, 300),
  (4852, 'Delhi Superfast', 'Delhi', 'Kolkata', 1100, 1400, 300),
  (3463, 'Kolkata Local', 'Kolkata', 'Mumbai', 800, 1100, 300),
  (4584, 'Mumbai Express', 'Mumbai', 'Chennai', 1000, 1300, 300),
  (5695, 'Hyderabad Superfast', 'Hyderabad', 'Bangalore', 1200, 1500, 300),
  (6704, 'Bangalore Express', 'Bangalore', 'Hyderabad', 1300, 1600, 300),
  (7865, 'Pune Fast', 'Pune', 'Mumbai', 930, 1230, 300),
  (8965, 'Ahmedabad Express', 'Ahmedabad', 'Delhi', 1030, 1330, 300),
  (9066, 'Lucknow Special', 'Lucknow', 'Kolkata', 1130, 1430, 300),
  (1017, 'Jaipur Rapid', 'Jaipur', 'Chennai', 1100, 1400, 300),
  (1127, 'Patna Super Express', 'Patna', 'Mumbai', 1200, 1500, 300),
  (1238, 'Guwahati Local', 'Guwahati', 'Delhi', 1000, 1300, 300),
  (1349, 'Bhopal Express', 'Bhopal', 'Bangalore', 900, 1200, 300),
  (1459, 'Nagpur Superfast', 'Nagpur', 'Chennai', 1100, 1400, 300),
  (1561, 'Surat Fast', 'Surat', 'Mumbai', 800, 1100, 300),
  (1672, 'Indore Quick', 'Indore', 'Kolkata', 1200, 1500, 300),
  (1783, 'Vijayawada Express', 'Vijayawada', 'Hyderabad', 1000, 1300, 300),
  (1894, 'Kochi Special', 'Kochi', 'Bangalore', 1130, 1430, 300),
  (2005, 'Trivandrum Rapid', 'Trivandrum', 'Chennai', 930, 1230, 300);


INSERT INTO SEATS1 (TRAINNAME, A1PRICE, A2PRICE, A3PRICE, SLPRICE, A1AVAL, A2AVAL, A3AVAL, SLAVAL)
VALUES
  ('Chennai Express', 50, 40, 30, 20, 100, 120, 80, 150),
  ('Delhi Superfast', 60, 45, 35, 25, 80, 100, 70, 120),
  ('Kolkata Local', 70, 50, 40, 30, 120, 150, 100, 180),
  ('Mumbai Express', 40, 30, 25, 15, 60, 80, 50, 100),
  ('Hyderabad Superfast', 55, 35, 30, 20, 90, 110, 75, 130),
  ('Bangalore Express',70, 50, 40, 30, 120, 150, 100, 180),
  ('Pune Fast', 40, 30, 25, 15, 60, 80, 50, 100),
  ('Ahmedabad Express',50, 40, 30, 20, 100, 120, 80, 150),
  ('Lucknow Special',70, 50, 40, 30, 120, 150, 100, 180),
  ('Jaipur Rapid',  40, 30, 25, 15, 60, 80, 50, 100),
  ('Patna Super Express',50, 40, 30, 20, 100, 120, 80, 150),
  ('Guwahati Local',70, 50, 40, 30, 120, 150, 100, 180),
  ('Bhopal Express', 40, 30, 25, 15, 60, 80, 50, 100 ),
  ('Nagpur Superfast',50, 40, 30, 20, 100, 120, 80, 150),
  ('Surat Fast', 40, 30, 25, 15, 60, 80, 50, 100),
  ('Indore Quick',70, 50, 40, 30, 120, 150, 100, 180 ),
  ('Vijayawada Express', 40, 30, 25, 15, 60, 80, 50, 100),
  ('Kochi Special',50, 40, 30, 20, 100, 120, 80, 150),
  ('Trivandrum Rapid',70, 50, 40, 30, 120, 150, 100, 180);
  
SELECT * FROM BOOKTRAINS;

CREATE TABLE RUNSTATUS (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    TRAINNAME VARCHAR(30),
    TRAINNUMBER INT NOT NULL,
    DEPARTURESTATION VARCHAR(255) NOT NULL,
    ARRIVALSTATION VARCHAR(255) NOT NULL,
    LASTSTATION VARCHAR(30),
    NEXTSTATION VARCHAR(30),
    DEPARTURETIME TIME NOT NULL,
    ARRIVALTIME TIME NOT NULL,
    STATUS VARCHAR(50) NOT NULL
);
DROP TABLE RUNSTATUS;

CREATE TABLE USER(
	ID INT AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(20),
    NUMBER INT,
    EMAIL VARCHAR(50),
    PASSWORD VARCHAR(250)
    );

INSERT INTO RUNSTATUS (TRAINNUMBER, TRAINNAME, DEPARTURESTATION, ARRIVALSTATION, LASTSTATION, NEXTSTATION, DEPARTURETIME, ARRIVALTIME, STATUS)
VALUES
    (12, 'SHATABDI-EXPRESS', 'DELHI', 'PUNE', 'GOA', 'KOTA', '09:00:00', '12:00:00', 'On Time'),
    (23, 'RAJDHANI-EXPRESS', 'MUMBAI', 'DELHI', 'KOTA', 'JAIPUR', '10:30:00', '15:30:00', 'Delayed'),
    (34, 'GATIMAAN-EXPRESS', 'AGRA', 'VARANASI', 'KANPUR', 'LUCKNOW', '08:45:00', '14:00:00', 'On Time'),
    (45, 'DURONTO-EXPRESS', 'KOLKATA', 'CHENNAI', 'VISHAKHAPATNAM', 'VIJAYAWADA', '11:15:00', '18:30:00', 'Delayed'),
    (56, 'SAMPARK-KRANTI-EXPRESS', 'DELHI', 'JODHPUR', 'AJMER', 'UDAIPUR', '12:30:00', '18:45:00', 'On Time'),
    (67, 'TEJAS-EXPRESS', 'MUMBAI', 'GOA', 'RATNAGIRI', 'KOLHAPUR', '07:15:00', '11:45:00', 'Delayed'),
    (78, 'HUMSAFAR-EXPRESS', 'AHMEDABAD', 'BANGALORE', 'SURAT', 'VADODARA', '14:00:00', '20:30:00', 'On Time'),
    (89, 'GARIB-RATH-EXPRESS', 'PATNA', 'HOWRAH', 'DURGAPUR', 'ASANSOL', '13:45:00', '19:00:00', 'On Time'),
    (90, 'SHALIMAR-EXPRESS', 'HOWRAH', 'NEW DELHI', 'GAYA', 'ALLAHABAD', '15:20:00', '21:30:00', 'Delayed'),
    (101, 'DECCAN-ODYSSEY', 'MUMBAI', 'JAIPUR', 'VADODARA', 'SURAT', '08:00:00', '13:15:00', 'On Time'),
    (112, 'GOLDEN-CHORD-EXPRESS', 'KANPUR', 'LUCKNOW', 'ALLAHABAD', 'GORAKHPUR', '09:45:00', '14:30:00', 'Delayed'),
    (123, 'RAJENDRA-NAGAR-EXPRESS', 'PATNA', 'RAIPUR', 'BILASPUR', 'NAGPUR', '10:30:00', '16:00:00', 'On Time'),
    (134, 'KINGFISHER-EXPRESS', 'BANGALORE', 'MUMBAI', 'PUNE', 'HYDERABAD', '11:00:00', '17:45:00', 'Delayed'),
    (145, 'LALBAGH-EXPRESS', 'CHENNAI', 'BANGALORE', 'SALEM', 'COIMBATORE', '12:15:00', '17:30:00', 'On Time'),
    (156, 'SWARNA-SHATABDI-EXPRESS', 'DELHI', 'AMRITSAR', 'LUDHIANA', 'JALANDHAR', '13:00:00', '18:45:00', 'Delayed');

SELECT TRAINNUMBER FROM RUNSTATUS;



DROP TABLE SEATS;
SELECT * FROM SEATS;

CREATE TABLE TRAININFO (
	TRAINNUMBER INT PRIMARY KEY,
    TRAINNAME VARCHAR(200),
    DEPARTURE VARCHAR(30),
    ARRIVAL VARCHAR(30),
    DEPARTURE_TIME TIME NOT NULL,
    ARRIVAL_TIME TIME NOT NULL,
    DURATION VARCHAR(30),
    STOPA VARCHAR(30),
    STOPB VARCHAR(30),
    STOPC VARCHAR(30),
    STOPD VARCHAR(30),
    STOPE VARCHAR(30)
);

DROP TABLE TRAININFO;
INSERT INTO TRAININFO (TRAINNUMBER, TRAINNAME, DEPARTURE, ARRIVAL, DEPARTURE_TIME, ARRIVAL_TIME, DURATION, STOPA, STOPB, STOPC, STOPD, STOPE)
VALUES
    (1, 'DELHI-EXPRESS', 'DELHI', 'PUNE', '09:00:00', '23:00:00', '14 hours', 'MATHURA', 'KOTA', 'BHOPAL', 'NAGPUR', 'SOLAPUR'),
    (2, 'MUMBAI-FAST', 'MUMBAI', 'CHENNAI', '08:30:00', '22:30:00', '14 hours', 'SURAT', 'VADODARA', 'BHARUCH', 'ANAND', 'AHMEDABAD'),
    (3, 'KOLKATA-SUPER', 'KOLKATA', 'BANGALORE', '10:00:00', '20:00:00', '10 hours', 'ASANSOL', 'DHANBAD', 'GAYA', 'JHANSI', 'BHOPAL'),
    (4, 'CHENNAI-EXPRESS', 'CHENNAI', 'DELHI', '11:30:00', '01:30:00', '14 hours', 'VIJAYAWADA', 'NAGPUR', 'ITARSI', 'JAIPUR', 'GURGAON'),
    (5, 'BANGALORE-SHATABDI', 'BANGALORE', 'MUMBAI', '12:00:00', '22:00:00', '10 hours', 'HOSUR', 'DHARWAD', 'BELGAUM', 'RATNAGIRI', 'PANVEL'),
    (6, 'HYDERABAD-EXPRESS', 'HYDERABAD', 'AHMEDABAD', '09:30:00', '21:30:00', '12 hours', 'NIZAMABAD', 'ADONI', 'RAICHUR', 'GULBARGA', 'PUNE'),
    (7, 'AHMEDABAD-SHATABDI', 'AHMEDABAD', 'LUCKNOW', '08:00:00', '20:00:00', '12 hours', 'VADODARA', 'RATLAM', 'KOTA', 'KANPUR', 'ALLAHABAD'),
    (8, 'LUCKNOW-MAIL', 'LUCKNOW', 'HYDERABAD', '07:00:00', '19:00:00', '12 hours', 'VARANASI', 'GORAKHPUR', 'GAYA', 'SECUNDERABAD', 'AURANGABAD'),
    (9, 'JAIPUR-EXPRESS', 'JAIPUR', 'CHENNAI', '10:30:00', '22:30:00', '12 hours', 'AJMER', 'KISHANGARH', 'BHILWARA', 'KATNI', 'GUNTAKAL'),
    (10, 'MYSORE-SHATABDI', 'MYSORE', 'DELHI', '11:00:00', '23:00:00', '12 hours', 'MANDYA', 'HASSAN', 'MANGALORE', 'TUMKUR', 'YELAHANKA'),
    (11, 'KANPUR-MAIL', 'KANPUR', 'MUMBAI', '08:30:00', '20:30:00', '12 hours', 'FATEHPUR', 'JHANSI', 'ITARSI', 'VADODARA', 'THANE'),
    (12, 'PATNA-EXPRESS', 'PATNA', 'KOLKATA', '09:30:00', '19:30:00', '10 hours', 'DANAPUR', 'MOKAMA', 'KIUL', 'BARDHAMAN', 'BOLPUR'),
    (13, 'RANCHI-RAJDHANI', 'RANCHI', 'DELHI', '10:00:00', '22:00:00', '12 hours', 'TATA', 'BOKARO', 'GOMOH', 'KODERMA', 'NEW DELHI'),
    (14, 'SURAT-INTERCITY', 'SURAT', 'VADODARA', '07:30:00', '09:30:00', '2 hours', 'ANKLESHWAR', 'BHARUCH', 'ANAND', 'VAPI', 'BHILAD'),
    (15, 'GUWAHATI-MAIL', 'GUWAHATI', 'CHENNAI', '11:30:00', '23:30:00', '12 hours', 'DIMAPUR', 'KOHIMA', 'IMPHAL', 'GUMLA', 'TIRUPATI');

DROP TABLE TRAININFO;

SELECT * FROM TRAININFO;

CREATE TABLE PNRCHECK1(
	PNR INT PRIMARY KEY,
    TRAINNAME VARCHAR(40),
    DEPARTURE VARCHAR(30),
    ARRIVAL VARCHAR(30),
    DEPARTURETIME TIME NOT NULL,
    ARRIVALTIME TIME NOT NULL,
    DURATION INT,
    BOOKINGSTATUS VARCHAR(30),
    CURRENTSTATUS VARCHAR(30),
    COACH VARCHAR(20),
    BERTH VARCHAR(20),
    CLASS VARCHAR(30),
	SEATNO INT
    );
    
DROP TABLE PNRCHECK1;

INSERT INTO PNRCHECK1 (PNR, TRAINNAME, DEPARTURE, ARRIVAL, DEPARTURETIME, ARRIVALTIME, DURATION, BOOKINGSTATUS, CURRENTSTATUS, COACH, BERTH, CLASS, SEATNO)
VALUES
  (111, 'DURANTO', 'DELHI', 'RAJASHTHAN', '08:00:00', '12:00:00', 4, 'Confirmed', 'Confirm', 'A1', 'LOWER', 'AC', 45),
  (222, 'RAJDHANI', 'MUMBAI', 'KOLKATA', '10:30:00', '15:30:00', 5, 'Confirmed', 'Confirm', 'B2', 'UPPER', 'AC', 23),
  (333, 'SHATABDI', 'CHENNAI', 'DELHI', '12:45:00', '18:00:00', 6, 'RAC', 'RAC', 'C3', 'MIDDLE', 'SLEEPER', 12),
  (444, 'GATIMAAN', 'AGRA', 'DELHI', '07:15:00', '09:45:00', 2, 'Confirmed', 'Confirm', 'D1', 'SIDE_LOWER', 'AC', 8),
  (555, 'DURONTO', 'KOLKATA', 'MUMBAI', '15:00:00', '20:00:00', 5, 'Confirmed', 'Confirm', 'E1', 'UPPER', 'SLEEPER', 32),
  (666, 'TEJAS', 'BANGALORE', 'CHENNAI', '11:30:00', '15:45:00', 4, 'RAC', 'RAC', 'F2', 'LOWER', 'AC', 19),
  (777, 'HUMSAFAR', 'AHMEDABAD', 'PUNE', '14:00:00', '19:30:00', 5, 'Waiting', 'Waiting', 'G1', 'MIDDLE', 'SLEEPER', 16),
  (888, 'GARIB-RATH', 'PATNA', 'LUCKNOW', '13:45:00', '19:00:00', 5, 'Confirmed', 'Confirm', 'H2', 'UPPER', 'AC', 53),
  (999, 'SHALIMAR', 'HOWRAH', 'MUMBAI', '15:20:00', '21:30:00', 6, 'RAC', 'RAC', 'I1', 'SIDE_UPPER', 'SLEEPER', 28),
  (1010, 'DECCAN-ODYSSEY', 'MUMBAI', 'JAIPUR', '08:00:00', '13:15:00', 5, 'Confirmed', 'Confirm', 'J2', 'LOWER', 'AC', 36),
  (1111, 'GOLDEN-CHORD', 'KANPUR', 'LUCKNOW', '09:45:00', '14:30:00', 4, 'Waiting', 'Waiting', 'K1', 'UPPER', 'SLEEPER', 14),
  (1212, 'RAJENDRA-NAGAR', 'PATNA', 'RAIPUR', '10:30:00', '16:00:00', 5, 'Confirmed', 'Confirm', 'L2', 'MIDDLE', 'AC', 47),
  (1313, 'KINGFISHER', 'BANGALORE', 'DELHI', '11:00:00', '17:45:00', 6, 'RAC', 'RAC', 'M1', 'SIDE_LOWER', 'SLEEPER', 22),
  (1414, 'LALBAGH', 'CHENNAI', 'BANGALORE', '12:15:00', '17:30:00', 5, 'Confirmed', 'Confirm', 'N2', 'UPPER', 'AC', 64),
  (1515, 'SWARNA-SHATABDI', 'DELHI', 'AMRITSAR', '13:00:00', '18:45:00', 5, 'Confirmed', 'Confirm', 'O1', 'LOWER', 'AC', 11);



SELECT * FROM PNRCHECK1;

SELECT * FROM TRAINDETAILS;
    
CREATE TABLE PASSENGERS(
	ID INT AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(30),
    AGE INT,
    GENDER VARCHAR(10),
    NATIONALITY VARCHAR(20),
    BERTH VARCHAR(20),
    COACH VARCHAR(20),
    SECURITY1 INT
    );
    
DROP TABLE PASSENGERS;
    
INSERT INTO PASSENGERS (NAME,AGE,GENDER,NATIONALITY,BERTH,COACH,SECURITY1) VALUES 
	('RIZIL',19,'MALE','INDIAN','LOWER','A2',1234);
		
SELECT * FROM PASSENGERS;

CREATE TABLE PROFILE(
	ID INT AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(40),
    EMAIL VARCHAR(50),
    CONTACTNOT INT
    );
    
SELECT * FROM PROFILE;
